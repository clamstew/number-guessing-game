<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Guess the Number!</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
  


  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript">
    (function(){
      var secretNumber = parseInt(Math.random() * 100, 10) + 1;
      console.log('secret number', secretNumber);
      
      var validateInputForConstraints = function(userInput) {
        if (userInput === NaN) {
          console.log('Please enter a number.');
          return false;
        } else if (userInput < 0) {
          console.log('Enter a positive number between 1 and 100');
          return false;
        } else if (userInput > 100) {
          console.log('Enter a positive number that is less that 100, please.');
          return false;
        }
        return true;
      }

      var feedback = function() {
        // get user input number and make sure its a number that fits what we asked for
        var userInput = prompt('Enter a number between 1 and 100');
        userInput = parseInt(userInput);
        var valid = validateInputForConstraints(userInput);
        // start with success false
        var success = false;
        if (valid) {
          if (userInput > secretNumber) {
            console.log('Your number is greater than secret number.');
            console.log("Your number was valid. Thanks for playing!");
          } else if (userInput < secretNumber) {
            console.log('Your number is less than secret number.');
            console.log("Your number was valid. Thanks for playing!");
          } else if (userInput === secretNumber) {
            console.log('Your number the same as the secret number.');
            console.log("Your number was valid. Thanks for playing!");
            // only turn success to true and return it when the user did match the number
            success = true;
            return success;
          } else {
            console.log('There may have been an error with your input');
          }
        } else {
          console.log("Your number was NOT valid. Please try again.");
        }
        // return false success if nothing matched
        return success;
      };

      var run = function() {
        var response = feedback();
        // run again if success is not yet true
        if (response === false) {
          run();
        } else {
          // else tell the user they won
          console.log("Congrats you win!");
        }
      }
   
      // kick off the script
      run();    

    })();
  </script>
  </body>
</html>
